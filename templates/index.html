<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>朝の会</title>
    <style>
        /* === 1. 基本設定 (seating.html と共通) === */
        :root {
            --primary-color: #007bff;
            --light-gray: #f4f7f6;
            --border-color: #ddd;
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: var(--light-gray);
            color: #333;
            line-height: 1.6;
        }

        /* === 2. 全体のコンテナ (seating.html と共通) === */
        .main-container {
            max-width: 800px; 
            margin: 0 auto;
            background: #ffffff;
            border-radius: 12px;
            box-shadow: var(--shadow);
            padding: 20px 30px;
        }

        h1, h2 {
            color: #222;
            border-bottom: 2px solid var(--primary-color);
            padding-bottom: 8px;
        }
        
        h1 {
            font-size: 2em;
            margin-top: 0;
        }
        
        h2 {
            font-size: 1.5em;
            margin-top: 30px;
        }
        
        hr {
            border: 0;
            border-top: 1px solid var(--border-color);
            margin: 25px 0;
        }

        /* === 3. 2カラムレイアウト === */
        .container {
            display: flex;
            /* flex-wrap: wrap; */ /* 狭い画面では縦積み <- ★この行をコメントアウト(または削除) */
            gap: 40px;
        }
        .form-area {
            width: 300px;
            flex-shrink: 0;
        }
        
        .result-area {
            flex-grow: 1;
            min-width: 300px;
            
            /* スクロールバー（行数が多すぎる場合） */
            max-height: 500px; 
            overflow-y: auto; 
            
            scrollbar-width: thin;
            scrollbar-color: var(--border-color) var(--light-gray);
        }


        /* === 4. フォームのスタイル === */
        .checker-form {
            padding: 20px;
            background: #fafafa;
            border-radius: 8px;
        }
        .form-group {
            margin-bottom: 15px;
        }
        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
        }
        .form-group select {
            width: 100%;
            padding: 8px;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            font-size: 1em;
        }

        button[type="submit"] {
            display: block;
            width: 100%;
            padding: 12px;
            margin-top: 20px;
            font-size: 1.1em;
            font-weight: bold;
            color: #fff;
            background-color: var(--primary-color);
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        button[type="submit"]:hover {
            background-color: #0056b3;
        }

        /* === 5. 結果表示エリアのスタイル (★ここを修正) === */
        .result-list {
            list-style-type: none; /* 点を消す */
            padding-left: 0;
            margin-top: 0; /* h2との隙間調整 */
        }
        .result-list li {
            background: #fafafa;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 12px 15px;
            margin-bottom: 10px;
            
            /* ▼▼▼ これを追加 ▼▼▼ */
            /* 長い文章をセルの幅で折り返す */
            word-wrap: break-word;
            word-break: break-word;
            /* ▲▲▲ 追加ここまで ▲▲▲ */
        }
        .result-list li strong {
            color: #333;
        }

        /* === 6. リンクのスタイル === */
        .nav-link {
            display: inline-block;
            margin-top: 10px;
            color: var(--primary-color);
            text-decoration: none;
            font-weight: bold;
            font-size: 1.1em;
        }
        .nav-link:hover {
            text-decoration: underline;
        }
        
    </style>
</head>
<body>

    <div class="main-container">

        <h1>朝の会</h1>

        <div class="container">

            <!-- 1. 左側: フォーム -->
            <div class="form-area">
                <h2>検索</h2>
                <form method="POST" class="checker-form">
                    <div class="form-group">
                        <label for="due">課題締切日:</label>
                        <select id="due" name="due_date">
                            <option value="">日付を選択してください</option>
                            <option value="2025/10/13">2025/10/13</option>
                            <option value="2025/10/14">2025/10/14</option>
                            <option value="2025/10/15">2025/10/15</option>
                            <option value="2025/10/16">2025/10/16</option>
                            <option value="2025/10/17">2025/10/17</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="day">曜日:</label>
                        <select id="day" name="weekday">
                            <option value="">曜日を選択してください</option>
                            <option value="月">月曜日</option>
                            <option value="火">火曜日</option>
                            <option value="水">水曜日</option>
                            <option value="木">木曜日</option>
                            <option value="金">金曜日</option>
                        </select>
                    </div>
                    
                    <button type="submit">検索</button>
                </form>
            </div>


            <!-- 2. 右側: 結果 -->
            <div class="result-area">
                <!-- 2a. 課題リスト -->
                <h2>課題リスト</h2>
                {% if assignments_list %}
                    <ul class="result-list">
                        {% for assignment in assignments_list %}
                            <li>
                                <strong>科目: {{ assignment[1] }}</strong>
                                <br>
                                <strong>課題名: {{ assignment[2] }}</strong>
                                <br>
                                詳細: {{ assignment[3] }}
                            </li>
                        {% endfor %}
                    </ul>
                {% else %}
                    <p>該当する課題はありません。</p>
                {% endif %}

                <!-- 2b. 時間割 -->
                <h2>時間割</h2>
                {% if timetable_list %}
                    <ul class="result-list">
                        {% for subject in timetable_list %}
                            <li>{{ subject }}</li>
                        {% endfor %}
                    </ul>
                {% else %}
                    <p>該当する時間割はありません。</p>
                {% endif %}
            </div>

        </div> <!-- .container 閉じタグ -->

        
        <!-- 3. AI席替えセクション -->
        <hr> 
        <h2>AI席替え（カスタム）</h2>
        <p>
            あなた専用のAI席替えシミュレーターです。<br>
            クラスメイト（29人）への好感度を入力すると、AIが最適な座席表を計算します。
        </p>
        <p>
            <a href="/seating" class="nav-link">
                AI席替えページへ進む &gt;
            </a>
        </p>
    
    </div> <!-- .main-container 閉じタグ -->
</body>
</html>